import './polyfills.server.mjs';
import{b as j,c as L,f as A,i as z,j as W,k as Y,o as K}from"./chunk-3I4LUROC.mjs";import{$a as M,Ca as w,Ga as h,Na as D,Oa as l,Ob as B,Pa as e,Pb as I,Q as b,Qa as t,R as f,Ra as S,Rb as N,S as T,Sb as R,T as E,Ua as _,Va as m,Wa as y,_b as F,ab as p,ba as u,cb as n,db as g,eb as C,hb as v,ib as O,jb as x,mb as P,nb as k,ra as s}from"./chunk-X5UWJYRQ.mjs";import"./chunk-T55IDOPT.mjs";function H(d,o){if(d&1){let r=_();e(0,"button",43),m("click",function(){b(r);let a=y();return f(a.startTimer())}),n(1," \u25B6 Start Focus Session "),t()}}function G(d,o){if(d&1){let r=_();e(0,"button",44),m("click",function(){b(r);let a=y();return f(a.pauseTimer())}),n(1," \u23F8 Pause "),t()}}function J(d,o){if(d&1&&(e(0,"option",45),n(1),t()),d&2){let r=o.$implicit;l("value",r),s(),C(" ",r," ")}}var V=class d{WORK_TIME=1500;SHORT_BREAK=300;LONG_BREAK=900;timerMode=u("work");timeLeft=u(this.WORK_TIME);isRunning=u(!1);cyclesCompleted=u(0);selectedSubject="Physics";sessionNotes="";timerInterval=null;subjects=Object.values(F);ngOnInit(){this.loadSessionState()}ngOnDestroy(){this.stopTimer(),this.saveSessionState()}get displayTime(){let o=Math.floor(this.timeLeft()/60),r=this.timeLeft()%60;return`${o.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}get progressPercentage(){let o=this.getTotalTimeForMode();return(o-this.timeLeft())/o*100}get modeLabel(){switch(this.timerMode()){case"work":return"Study Time \u{1F4DA}";case"shortBreak":return"Short Break \u2615";case"longBreak":return"Long Break \u{1F334}";default:return"Study Time"}}get modeIcon(){switch(this.timerMode()){case"work":return"\u{1F4DA}";case"shortBreak":return"\u2615";case"longBreak":return"\u{1F334}";default:return"\u23F0"}}startTimer(){this.isRunning()||(this.isRunning.set(!0),this.timerInterval=setInterval(()=>{this.timeLeft()>0?this.timeLeft.update(o=>o-1):this.handleTimerComplete()},1e3))}pauseTimer(){this.isRunning.set(!1),this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)}stopTimer(){this.pauseTimer(),this.resetTimer()}resetTimer(){this.timeLeft.set(this.getTotalTimeForMode())}switchMode(o){this.pauseTimer(),this.timerMode.set(o),this.timeLeft.set(this.getTotalTimeForMode())}getTotalTimeForMode(){switch(this.timerMode()){case"work":return this.WORK_TIME;case"shortBreak":return this.SHORT_BREAK;case"longBreak":return this.LONG_BREAK;default:return this.WORK_TIME}}handleTimerComplete(){this.pauseTimer(),"Notification"in window&&Notification.permission==="granted"&&new Notification("Timer Complete!",{body:`${this.modeLabel} session is complete!`,icon:"/assets/icon.png"}),"vibrate"in navigator&&navigator.vibrate([200,100,200]),this.timerMode()==="work"?(this.cyclesCompleted.update(o=>o+1),this.cyclesCompleted()%4===0?this.switchMode("longBreak"):this.switchMode("shortBreak"),this.saveCompletedSession()):this.switchMode("work")}saveCompletedSession(){let o=JSON.parse(localStorage.getItem("study-sessions")||"[]"),r={id:Date.now(),subject:this.selectedSubject,duration:this.WORK_TIME/60,completedAt:new Date().toISOString(),notes:this.sessionNotes,cycles:this.cyclesCompleted()};o.push(r),localStorage.setItem("study-sessions",JSON.stringify(o)),this.sessionNotes=""}getTodaySessions(){let o=JSON.parse(localStorage.getItem("study-sessions")||"[]"),r=new Date().toDateString();return o.filter(i=>new Date(i.completedAt).toDateString()===r)}getTotalStudyTimeToday(){return this.getTodaySessions().reduce((r,i)=>r+i.duration,0)}loadSessionState(){let o=localStorage.getItem("timer-state");if(o)try{let r=JSON.parse(o);this.timerMode.set(r.mode||"work"),this.timeLeft.set(r.timeLeft||this.WORK_TIME),this.cyclesCompleted.set(r.cycles||0),this.selectedSubject=r.subject||"Physics"}catch(r){console.error("Error loading timer state:",r)}}saveSessionState(){let o={mode:this.timerMode(),timeLeft:this.timeLeft(),cycles:this.cyclesCompleted(),subject:this.selectedSubject,savedAt:new Date().toISOString()};localStorage.setItem("timer-state",JSON.stringify(o))}getSubjectColor(o){return{Physics:"#FF6B6B",Chemistry:"#4ECDC4",Botany:"#45B7D1",Zoology:"#96CEB4",General:"#FFEAA7"}[o]}static \u0275fac=function(r){return new(r||d)};static \u0275cmp=w({type:d,selectors:[["app-study-timer"]],decls:122,vars:36,consts:[[1,"study-timer"],[1,"timer-header"],[1,"subtitle"],[1,"timer-container"],[1,"timer-display"],[1,"mode-indicator"],[1,"mode-icon"],[1,"mode-text"],[1,"time-display"],[1,"time-digits"],[1,"time-label"],[1,"progress-circle"],["width","200","height","200","viewBox","0 0 200 200"],["cx","100","cy","100","r","90","stroke","#e9ecef","stroke-width","10","fill","transparent"],["cx","100","cy","100","r","90","stroke-width","10","fill","transparent","stroke-linecap","round","transform","rotate(-90 100 100)"],[1,"progress-text"],[1,"timer-controls"],["class","btn-control start-btn",3,"click",4,"ngIf"],["class","btn-control pause-btn",3,"click",4,"ngIf"],[1,"btn-control","reset-btn",3,"click","disabled"],[1,"btn-control","stop-btn",3,"click"],[1,"session-settings"],[1,"setting-group"],["for","subjectSelect"],["id","subjectSelect",1,"form-select",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[1,"subject-color"],["for","sessionNotes"],["id","sessionNotes","placeholder","What are you focusing on in this session? e.g., 'Organic Chemistry - Reaction Mechanisms'","rows","3",1,"form-textarea",3,"ngModelChange","ngModel"],[1,"mode-selection"],[1,"mode-buttons"],[1,"mode-btn",3,"click","disabled"],[1,"mode-btn-icon"],[1,"mode-btn-text"],[1,"today-stats"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"tips-section"],[1,"tips-grid"],[1,"tip-card"],[1,"tip-icon"],[1,"btn-control","start-btn",3,"click"],[1,"btn-control","pause-btn",3,"click"],[3,"value"]],template:function(r,i){r&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),n(3,"\u23F0 Focus Study Timer"),t(),e(4,"p",2),n(5,"Pomodoro technique for effective NEET preparation"),t()(),e(6,"div",3)(7,"div",4)(8,"div",5)(9,"span",6),n(10),t(),e(11,"span",7),n(12),t()(),e(13,"div",8)(14,"div",9),n(15),t(),e(16,"div",10),n(17,"minutes remaining"),t()(),e(18,"div",11),T(),e(19,"svg",12),S(20,"circle",13)(21,"circle",14),t(),E(),e(22,"div",15),n(23),P(24,"number"),t()(),e(25,"div",16),h(26,H,2,0,"button",17)(27,G,2,0,"button",18),e(28,"button",19),m("click",function(){return i.resetTimer()}),n(29," \u{1F504} Reset "),t(),e(30,"button",20),m("click",function(){return i.stopTimer()}),n(31," \u23F9 Stop "),t()()(),e(32,"div",21)(33,"h3"),n(34,"\u{1F3AF} Session Settings"),t(),e(35,"div",22)(36,"label",23),n(37,"Study Subject"),t(),e(38,"select",24),x("ngModelChange",function(c){return O(i.selectedSubject,c)||(i.selectedSubject=c),c}),h(39,J,2,2,"option",25),t(),S(40,"div",26),t(),e(41,"div",22)(42,"label",27),n(43,"Session Notes (Optional)"),t(),e(44,"textarea",28),x("ngModelChange",function(c){return O(i.sessionNotes,c)||(i.sessionNotes=c),c}),t()(),e(45,"div",29)(46,"h4"),n(47,"Select Timer Mode:"),t(),e(48,"div",30)(49,"button",31),m("click",function(){return i.switchMode("work")}),e(50,"span",32),n(51,"\u{1F4DA}"),t(),e(52,"span",33),n(53,"Study"),t(),e(54,"small"),n(55,"25 min"),t()(),e(56,"button",31),m("click",function(){return i.switchMode("shortBreak")}),e(57,"span",32),n(58,"\u2615"),t(),e(59,"span",33),n(60,"Short Break"),t(),e(61,"small"),n(62,"5 min"),t()(),e(63,"button",31),m("click",function(){return i.switchMode("longBreak")}),e(64,"span",32),n(65,"\u{1F334}"),t(),e(66,"span",33),n(67,"Long Break"),t(),e(68,"small"),n(69,"15 min"),t()()()(),e(70,"div",34)(71,"h4"),n(72,"\u{1F4CA} Today's Progress"),t(),e(73,"div",35)(74,"div",36)(75,"div",37),n(76),t(),e(77,"div",38),n(78,"Pomodoros"),t()(),e(79,"div",36)(80,"div",37),n(81),P(82,"number"),t(),e(83,"div",38),n(84,"Study Hours"),t()(),e(85,"div",36)(86,"div",37),n(87),t(),e(88,"div",38),n(89,"Sessions"),t()()()()()(),e(90,"div",39)(91,"h3"),n(92,"\u{1F4A1} Pomodoro Technique Tips for NEET"),t(),e(93,"div",40)(94,"div",41)(95,"div",42),n(96,"\u{1F3AF}"),t(),e(97,"h4"),n(98,"Set Clear Goals"),t(),e(99,"p"),n(100,"Before starting, decide what specific topic or chapter you'll study in this 25-minute session."),t()(),e(101,"div",41)(102,"div",42),n(103,"\u{1F6AB}"),t(),e(104,"h4"),n(105,"Eliminate Distractions"),t(),e(106,"p"),n(107,"Put your phone away and close unnecessary tabs. Focus only on NEET preparation during study sessions."),t()(),e(108,"div",41)(109,"div",42),n(110,"\u{1F4DD}"),t(),e(111,"h4"),n(112,"Quick Revision"),t(),e(113,"p"),n(114,"Use the 5-minute breaks to quickly revise what you just studied. This enhances retention."),t()(),e(115,"div",41)(116,"div",42),n(117,"\u{1F4AA}"),t(),e(118,"h4"),n(119,"Stay Consistent"),t(),e(120,"p"),n(121,"Aim for 4-6 pomodoros per day. Consistency matters more than marathon study sessions."),t()()()()()),r&2&&(s(8),M("background",i.timerMode()==="work"?"#FF6B6B":i.timerMode()==="shortBreak"?"#4ECDC4":"#45B7D1"),s(2),g(i.modeIcon),s(2),g(i.modeLabel),s(3),g(i.displayTime),s(6),D("stroke",i.timerMode()==="work"?"#FF6B6B":i.timerMode()==="shortBreak"?"#4ECDC4":"#45B7D1")("stroke-dasharray",565.48)("stroke-dashoffset",565.48*(1-i.progressPercentage/100)),s(2),C("",k(24,30,i.progressPercentage,"1.0-0"),"%"),s(3),l("ngIf",!i.isRunning()),s(),l("ngIf",i.isRunning()),s(),l("disabled",i.isRunning()),s(10),v("ngModel",i.selectedSubject),l("disabled",i.isRunning()),s(),l("ngForOf",i.subjects),s(),M("background",i.getSubjectColor(i.selectedSubject)),s(4),v("ngModel",i.sessionNotes),s(5),p("active",i.timerMode()==="work"),l("disabled",i.isRunning()),s(7),p("active",i.timerMode()==="shortBreak"),l("disabled",i.isRunning()),s(7),p("active",i.timerMode()==="longBreak"),l("disabled",i.isRunning()),s(13),g(i.cyclesCompleted()),s(5),g(k(82,33,i.getTotalStudyTimeToday(),"1.1-1")),s(6),g(i.getTodaySessions().length))},dependencies:[R,B,I,K,W,Y,j,z,L,A,N],styles:[".study-timer[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:1rem}.timer-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.timer-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#343a40;margin-bottom:.5rem}.subtitle[_ngcontent-%COMP%]{color:#6c757d;font-size:1rem}.timer-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;margin-bottom:2rem}@media(max-width:768px){.timer-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}.timer-display[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;text-align:center;box-shadow:0 4px 20px #0000001a}.mode-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1.5rem;border-radius:50px;color:#fff;font-weight:600;margin-bottom:1.5rem}.mode-icon[_ngcontent-%COMP%]{font-size:1.2rem}.time-display[_ngcontent-%COMP%]{margin:1.5rem 0}.time-digits[_ngcontent-%COMP%]{font-size:4rem;font-weight:700;color:#343a40;font-family:Courier New,monospace;line-height:1}.time-label[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;margin-top:.5rem}.progress-circle[_ngcontent-%COMP%]{position:relative;width:200px;height:200px;margin:1.5rem auto}.progress-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.progress-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:1.5rem;font-weight:700;color:#343a40}.timer-controls[_ngcontent-%COMP%]{display:flex;gap:.8rem;justify-content:center;flex-wrap:wrap;margin-top:1.5rem}.btn-control[_ngcontent-%COMP%]{padding:.8rem 1.5rem;border:none;border-radius:10px;font-weight:600;cursor:pointer;transition:all .3s;display:inline-flex;align-items:center;gap:.5rem}.start-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf50,#2e7d32);color:#fff}.start-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#43a047,#1b5e20);transform:translateY(-2px)}.pause-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9800,#ef6c00);color:#fff}.pause-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f57c00,#e65100);transform:translateY(-2px)}.reset-btn[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.reset-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#545b62;transform:translateY(-2px)}.stop-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f44336,#c62828);color:#fff}.stop-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e53935,#b71c1c);transform:translateY(-2px)}.btn-control[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.session-settings[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;box-shadow:0 4px 20px #0000001a}.session-settings[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#343a40;margin-bottom:1.5rem}.setting-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.setting-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600;color:#495057}.form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #dee2e6;border-radius:8px;font-size:1rem;transition:border-color .3s}.form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#8a2be2;box-shadow:0 0 0 3px #8a2be21a}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.subject-color[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:4px;margin-top:.5rem;display:inline-block}.mode-selection[_ngcontent-%COMP%]{margin:2rem 0}.mode-selection[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#495057;margin-bottom:1rem}.mode-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:.8rem}.mode-btn[_ngcontent-%COMP%]{background:#f8f9fa;border:2px solid #e9ecef;border-radius:10px;padding:1rem;cursor:pointer;transition:all .3s;display:flex;flex-direction:column;align-items:center;gap:.5rem}.mode-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#e9ecef;transform:translateY(-2px)}.mode-btn.active[_ngcontent-%COMP%]{background:#8a2be21a;border-color:#8a2be2;color:#8a2be2}.mode-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.mode-btn-icon[_ngcontent-%COMP%]{font-size:1.5rem}.mode-btn-text[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem}.mode-btn[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8rem;color:#6c757d}.today-stats[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem;border-top:1px solid #e9ecef}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.stat-item[_ngcontent-%COMP%]{text-align:center;padding:1rem;background:#f8f9fa;border-radius:10px}.stat-value[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#8a2be2;margin-bottom:.3rem}.stat-label[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d}.tips-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;margin-top:2rem;box-shadow:0 4px 20px #0000001a}.tips-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#343a40;margin-bottom:1.5rem;text-align:center}.tips-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.5rem}.tip-card[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:1.5rem;text-align:center;transition:transform .3s}.tip-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.tip-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.tip-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#343a40;margin-bottom:.5rem}.tip-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;line-height:1.5;margin:0}"]})};export{V as StudyTimer};
