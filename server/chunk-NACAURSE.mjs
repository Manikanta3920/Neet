import './polyfills.server.mjs';
import{a as O}from"./chunk-HN4XTOLT.mjs";import{$a as C,Ca as _,Ga as y,L as h,Oa as S,Ob as w,Pa as t,Pb as j,Qa as e,Ra as b,Rb as T,Sb as I,Va as P,Wa as k,_b as F,cb as n,db as x,eb as d,fb as E,mb as M,nb as D,ra as s}from"./chunk-X5UWJYRQ.mjs";import"./chunk-T55IDOPT.mjs";function z(g,o){if(g&1&&(t(0,"span",42),n(1),e()),g&2){let i=k().$implicit;s(),d("\u{1F501} ",i.revision," to revise")}}function H(g,o){if(g&1&&(t(0,"div",32)(1,"div",33)(2,"div",34),n(3),e(),t(4,"div",35)(5,"h4"),n(6),e(),t(7,"div",36)(8,"span"),n(9),e(),t(10,"span"),n(11),M(12,"number"),e()()()(),t(13,"div",37)(14,"div",38),b(15,"div",39),e(),t(16,"span",40),n(17),e()(),t(18,"div",41)(19,"span",42),n(20),e(),y(21,z,2,1,"span",43),e()()),g&2){let i=o.$implicit;s(2),C("background",i.color),s(),d(" ",i.subject.charAt(0)," "),s(3),x(i.subject),s(3),E("\u2705 ",i.completed,"/",i.total),s(2),d("\u23F0 ",D(12,14,i.totalTime,"1.1-1"),"h"),s(4),C("width",i.completionRate,"%")("background",i.color),s(2),d("",i.completionRate,"%"),s(3),d("\u{1F4DD} ",i.pending," pending"),s(),S("ngIf",i.revision>0)}}var N=class g{taskService=h(O);subjects=Object.values(F);getSubjectStats(){let o=this.taskService.tasks();return this.subjects.map(i=>{let r=o.filter(a=>a.subject===i),l=r.length,c=r.filter(a=>a.completed).length,m=l-c,u=r.filter(a=>a.toRevise).length,f=r.reduce((a,v)=>a+v.duration,0)/60;return{subject:i,total:l,completed:c,pending:m,revision:u,totalTime:f,completionRate:l>0?Math.round(c/l*100):0,color:this.getSubjectColor(i)}})}getOverallStats(){let o=this.taskService.tasks(),i=o.length,r=o.filter(p=>p.completed).length,l=i-r,c=o.reduce((p,R)=>p+R.duration,0)/60,m=i>0?c/i:0,u=new Date,f=new Date(u);f.setDate(f.getDate()-1);let a=o.filter(p=>p.completed&&new Date(p.createdAt).toDateString()===u.toDateString()),v=o.filter(p=>p.completed&&new Date(p.createdAt).toDateString()===f.toDateString()),A=(a.length>0?1:0)+(v.length>0?1:0);return{total:i,completed:r,pending:l,totalTime:Math.round(c*10)/10,avgTimePerTask:Math.round(m*10)/10,streak:A}}getPriorityStats(){let o=this.taskService.tasks(),i=o.filter(c=>c.priority==="High").length,r=o.filter(c=>c.priority==="Medium").length,l=o.filter(c=>c.priority==="Low").length;return{high:i,medium:r,low:l}}getSubjectColor(o){return{Physics:"#FF6B6B",Chemistry:"#4ECDC4",Botany:"#45B7D1",Zoology:"#96CEB4",General:"#FFEAA7"}[o]}exportData(){let o={tasks:this.taskService.tasks(),exportedAt:new Date().toISOString(),app:"For-Her NEET Planner"},i=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),r=window.URL.createObjectURL(i),l=document.createElement("a");l.href=r,l.download=`neet-study-plan-${new Date().toISOString().split("T")[0]}.json`,l.click(),window.URL.revokeObjectURL(r)}importData(o){let i=o.target,r=i.files?.[0];if(!r)return;let l=new FileReader;l.onload=c=>{try{let m=JSON.parse(c.target?.result);if(m.app==="For-Her NEET Planner"&&Array.isArray(m.tasks)){if(confirm("Importing will replace your current tasks. Continue?")){let u=h(O);u.tasks().forEach(a=>u.deleteTask(a.id)),m.tasks.forEach(a=>{u.addTask({title:a.title,subject:a.subject,priority:a.priority,duration:a.duration,dueDate:a.dueDate,completed:a.completed,notes:a.notes,toRevise:a.toRevise})}),alert(`Successfully imported ${m.tasks.length} tasks!`)}}else alert("Invalid file format. Please import a valid For-Her study plan file.")}catch{alert("Error reading file. Please make sure it's a valid JSON file.")}i.value=""},l.readAsText(r)}static \u0275fac=function(i){return new(i||g)};static \u0275cmp=_({type:g,selectors:[["app-progress-tracker"]],decls:93,vars:8,consts:[[1,"progress-tracker"],[1,"progress-header"],[1,"subtitle"],[1,"overall-stats"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"section"],[1,"section-title"],[1,"subject-progress-grid"],["class","subject-card",4,"ngFor","ngForOf"],[1,"priority-stats"],[1,"priority-item","priority-high"],[1,"priority-label"],[1,"priority-dot"],[1,"priority-count"],[1,"priority-item","priority-medium"],[1,"priority-item","priority-low"],[1,"section","export-section"],[1,"btn","btn-export",3,"click"],[1,"export-note"],[1,"section","import-section"],[1,"import-box"],["type","file","id","importFile","accept",".json","hidden","",1,"file-input",3,"change"],["for","importFile",1,"btn","btn-import"],["id","fileName",1,"file-name"],[1,"import-note"],[1,"motivation-section"],[1,"quote-icon"],[1,"motivation-quote"],[1,"subject-card"],[1,"subject-header"],[1,"subject-icon"],[1,"subject-info"],[1,"subject-meta"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-percent"],[1,"subject-details"],[1,"detail-item"],["class","detail-item",4,"ngIf"]],template:function(i,r){i&1&&(t(0,"div",0)(1,"div",1)(2,"h2"),n(3,"\u{1F4CA} Study Progress Dashboard"),e(),t(4,"p",2),n(5,"Track your NEET preparation journey"),e()(),t(6,"div",3)(7,"div",4)(8,"div",5),n(9,"\u{1F4DA}"),e(),t(10,"div",6)(11,"div",7),n(12),e(),t(13,"div",8),n(14,"Total Tasks"),e()()(),t(15,"div",4)(16,"div",5),n(17,"\u2705"),e(),t(18,"div",6)(19,"div",7),n(20),e(),t(21,"div",8),n(22,"Completed"),e()()(),t(23,"div",4)(24,"div",5),n(25,"\u23F0"),e(),t(26,"div",6)(27,"div",7),n(28),e(),t(29,"div",8),n(30,"Study Hours"),e()()(),t(31,"div",4)(32,"div",5),n(33,"\u{1F525}"),e(),t(34,"div",6)(35,"div",7),n(36),e(),t(37,"div",8),n(38,"Study Streak"),e()()()(),t(39,"div",9)(40,"h3",10),n(41,"\u{1F4D6} Subject-wise Progress"),e(),t(42,"div",11),y(43,H,22,17,"div",12),e()(),t(44,"div",9)(45,"h3",10),n(46,"\u{1F3AF} Priority Distribution"),e(),t(47,"div",13)(48,"div",14)(49,"div",15),b(50,"span",16),n(51," High Priority "),e(),t(52,"div",17),n(53),e()(),t(54,"div",18)(55,"div",15),b(56,"span",16),n(57," Medium Priority "),e(),t(58,"div",17),n(59),e()(),t(60,"div",19)(61,"div",15),b(62,"span",16),n(63," Low Priority "),e(),t(64,"div",17),n(65),e()()()(),t(66,"div",20)(67,"h3",10),n(68,"\u{1F4BE} Backup Your Progress"),e(),t(69,"p"),n(70,"Export your study plan to keep a backup or transfer to another device."),e(),t(71,"button",21),P("click",function(){return r.exportData()}),n(72," \u{1F4E5} Export Study Plan "),e(),t(73,"small",22),n(74,"This will download a JSON file with all your tasks and progress."),e()(),t(75,"div",23)(76,"h3",10),n(77,"\u{1F4E4} Import Study Plan"),e(),t(78,"p"),n(79,"Import a previously exported study plan file."),e(),t(80,"div",24)(81,"input",25),P("change",function(c){return r.importData(c)}),e(),t(82,"label",26),n(83," \u{1F4C1} Choose File to Import "),e(),t(84,"span",27),n(85,"No file chosen"),e()(),t(86,"small",28),n(87,"Only JSON files exported from For-Her app are supported."),e()(),t(88,"div",29)(89,"div",30),n(90,"\u{1F4AA}"),e(),t(91,"p",31),n(92,' "Consistency is the key to cracking NEET. Every hour you study brings you closer to your dream college!" '),e()()()),i&2&&(s(12),x(r.getOverallStats().total),s(8),x(r.getOverallStats().completed),s(8),d("",r.getOverallStats().totalTime,"h"),s(8),d("",r.getOverallStats().streak,"d"),s(7),S("ngForOf",r.getSubjectStats()),s(10),d("",r.getPriorityStats().high," tasks"),s(6),d("",r.getPriorityStats().medium," tasks"),s(6),d("",r.getPriorityStats().low," tasks"))},dependencies:[I,w,j,T],styles:[".progress-tracker[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:1rem}.progress-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.progress-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#343a40;margin-bottom:.5rem}.subtitle[_ngcontent-%COMP%]{color:#6c757d;font-size:1rem}.overall-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;display:flex;align-items:center;gap:1rem;box-shadow:0 2px 8px #00000014;transition:transform .3s}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.stat-icon[_ngcontent-%COMP%]{font-size:2rem;width:60px;height:60px;background:linear-gradient(135deg,#8a2be2,indigo);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff}.stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#343a40;line-height:1}.stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 2px 8px #00000014}.section-title[_ngcontent-%COMP%]{color:#343a40;margin-bottom:1.5rem;display:flex;align-items:center;gap:.5rem}.subject-progress-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.subject-card[_ngcontent-%COMP%]{border:1px solid #e9ecef;border-radius:10px;padding:1.2rem;transition:all .3s}.subject-card[_ngcontent-%COMP%]:hover{border-color:#8a2be2;box-shadow:0 4px 12px #8a2be21a}.subject-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.subject-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:1.2rem}.subject-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .3rem;color:#343a40}.subject-meta[_ngcontent-%COMP%]{display:flex;gap:1rem;font-size:.85rem;color:#6c757d}.progress-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin:1rem 0}.progress-bar[_ngcontent-%COMP%]{flex:1;height:8px;background:#e9ecef;border-radius:4px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .5s ease}.progress-percent[_ngcontent-%COMP%]{font-weight:700;color:#343a40;min-width:45px}.subject-details[_ngcontent-%COMP%]{display:flex;gap:1rem;font-size:.85rem;color:#6c757d}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem}.priority-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem}.priority-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.8rem 1rem;border-radius:8px;border-left:4px solid}.priority-high[_ngcontent-%COMP%]{background:#ff6b6b1a;border-left-color:#ff6b6b}.priority-medium[_ngcontent-%COMP%]{background:#ffce561a;border-left-color:#ffce56}.priority-low[_ngcontent-%COMP%]{background:#4bc0c01a;border-left-color:#4bc0c0}.priority-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600}.priority-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;display:inline-block}.priority-high[_ngcontent-%COMP%]   .priority-dot[_ngcontent-%COMP%]{background:#ff6b6b}.priority-medium[_ngcontent-%COMP%]   .priority-dot[_ngcontent-%COMP%]{background:#ffce56}.priority-low[_ngcontent-%COMP%]   .priority-dot[_ngcontent-%COMP%]{background:#4bc0c0}.priority-count[_ngcontent-%COMP%]{font-weight:700;color:#343a40}.export-section[_ngcontent-%COMP%]{text-align:center}.btn-export[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8a2be2,indigo);color:#fff;border:none;padding:.8rem 2rem;border-radius:8px;font-weight:600;cursor:pointer;margin:1rem 0;transition:all .3s;display:inline-flex;align-items:center;gap:.5rem}.btn-export[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #8a2be24d}.export-note[_ngcontent-%COMP%]{display:block;color:#6c757d;font-size:.85rem;margin-top:.5rem}.motivation-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:12px;padding:1.5rem;text-align:center;margin-top:2rem}.quote-icon[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.motivation-quote[_ngcontent-%COMP%]{font-style:italic;color:#495057;font-size:1.1rem;line-height:1.6;margin:0}@media(max-width:768px){.overall-stats[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.subject-progress-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.stat-card[_ngcontent-%COMP%]{padding:1rem}.stat-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.5rem}}.import-section[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem}.import-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:center;margin:1rem 0;flex-wrap:wrap}.btn-import[_ngcontent-%COMP%]{background:#f8f9fa;color:#495057;border:2px dashed #adb5bd;padding:.8rem 2rem;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s;display:inline-flex;align-items:center;gap:.5rem}.btn-import[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#8a2be2;color:#8a2be2}.file-name[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.import-note[_ngcontent-%COMP%]{display:block;color:#6c757d;font-size:.85rem;margin-top:.5rem}"]})};export{N as ProgressTracker};
